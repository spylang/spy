# ICF: identical code folding

from operator import OpSpec
from unsafe import ptr, gc_alloc

@blue.generic
def eq(T):
    def impl(a: ptr[T], b: ptr[T]) -> bool:
        return a == b
    return impl

def main() -> None:
    a = gc_alloc(i32)(1)
    b = gc_alloc(i32)(1)
    c = gc_alloc(i8)(1)
    d = gc_alloc(i8)(1)
    print(eq[i32](a, b))
    print(eq[i8](c, d))
